---
description: Kalite kontrol geÃ§itleri - Otomatik validasyon sistemi ve kod kalitesi metrikleri
globs:
  - "**/*.js"
  - "**/*.jsx"
  - "**/*.ts"
  - "**/*.tsx"
  - "**/*.vue"
  - "**/*.py"
alwaysApply: true
priority: 2
triggers: ['pre_implementation', 'post_implementation', 'code_commit', 'quality_check']
enforcement_level: zero_tolerance
validation_layers: ['syntax', 'structure', 'size', 'dependencies', 'performance']
depends_on: ['file-size-enforcement.mdc', 'clean-code-standards.mdc']
---

# KALÄ°TE KONTROL GEÃ‡Ä°TLERÄ° - OTOMATÄ°K VALÄ°DASYON

## TEMEL FELSEFESÄ° - PREVENTION OVER CORRECTION

Kalite sorunlarÄ±nÄ± sonradan dÃ¼zeltmek yerine baÅŸtan Ã¶nlemek daha verimli ve gÃ¼venlidir. Bu component her implementasyon Ã¶ncesi ve sonrasÄ± otomatik kontroller yapar, sorunlu kodun sisteme girmesini engeller.

## Ã‡OK KATMANLI VALÄ°DASYON SÄ°STEMÄ°

### KATMAN 1: PRE-IMPLEMENTATION GATES
Her kod deÄŸiÅŸikliÄŸi Ã¶ncesi zorunlu kontroller:

```javascript
function preImplementationGate(targetFiles, proposedChanges) {
    const validationResults = {
        fileSizeCheck: validateFileSizes(targetFiles),
        architectureCompliance: checkArchitecturalRules(proposedChanges),
        dependencyHealth: analyzeDependencies(targetFiles),
        codebaseReadiness: assessCodebaseState(targetFiles)
    };
    
    return determineImplementationEligibility(validationResults);
}
```

**Pre-implementation checklist:**
- [ ] **Hedef dosya boyutlarÄ±** 700 satÄ±r altÄ±nda mÄ±?
- [ ] **Mevcut kod kalitesi** standartlara uygun mu?
- [ ] **Dependency conflicts** var mÄ±?
- [ ] **Architecture violations** sÃ¶z konusu mu?
- [ ] **Technical debt** critical level'da mÄ±?

### KATMAN 2: DURING-IMPLEMENTATION MONITORING
Ä°mplementasyon sÄ±rasÄ±nda real-time kalite takibi:

```javascript
function realTimeQualityMonitoring(implementationProgress) {
    const metrics = {
        linesTooAdded: countAddedLines(),
        complexityIncrease: measureComplexityGrowth(),
        importChanges: trackImportModifications(),
        codeSmells: detectEmergingSmells()
    };
    
    if (metrics.linesAdded > SAFE_THRESHOLD) {
        triggerSizeWarning();
    }
    
    return metrics;
}
```

### KATMAN 3: POST-IMPLEMENTATION VALIDATION
Ä°mplementasyon sonrasÄ± comprehensive kontrol:

```javascript
function postImplementationGate(modifiedFiles) {
    const finalValidation = {
        codeQuality: assessFinalCodeQuality(modifiedFiles),
        performanceImpact: measurePerformanceImpact(modifiedFiles),
        maintainabilityScore: calculateMaintainabilityScore(modifiedFiles),
        testCoverage: validateTestCoverage(modifiedFiles),
        documentationCompleteness: checkDocumentation(modifiedFiles)
    };
    
    return generateQualityReport(finalValidation);
}
```

## KALÄ°TE METRÄ°KLERÄ° - Ã–LÃ‡ÃœM STANDARDLARI

### CORE METRICS - TEMEL Ã–LÃ‡ÃœMLER

**File Size Metrics:**
- Dosya baÅŸÄ±na satÄ±r sayÄ±sÄ± (hard limit: 1000)
- Fonksiyon baÅŸÄ±na satÄ±r sayÄ±sÄ± (recommended: <20)
- Class baÅŸÄ±na method sayÄ±sÄ± (recommended: <10)
- Complexity per function (cyclomatic complexity)

**Code Quality Metrics:**
- Unused imports count (target: 0)
- Dead code blocks (target: 0)
- Duplicate code percentage (target: <5%)
- Magic numbers count (target: minimal)

**Dependency Metrics:**
- External dependencies count
- Circular dependencies (target: 0)
- Unused dependencies (target: 0)
- Version conflicts (target: 0)

### QUALITY SCORING SYSTEM

```javascript
function calculateQualityScore(metrics) {
    const weights = {
        fileSize: 0.25,        // %25 - kritik Ã¶nem
        codeCleanness: 0.25,   // %25 - temizlik
        maintainability: 0.20, // %20 - sÃ¼rdÃ¼rÃ¼lebilirlik
        performance: 0.15,     // %15 - performans
        documentation: 0.15    // %15 - dokÃ¼mantasyon
    };
    
    const score = (
        metrics.fileSizeScore * weights.fileSize +
        metrics.cleanlinessScore * weights.codeCleanness +
        metrics.maintainabilityScore * weights.maintainability +
        metrics.performanceScore * weights.performance +
        metrics.documentationScore * weights.documentation
    );
    
    return Math.round(score * 100); // 0-100 scale
}
```

## OTOMATIK VALÄ°DASYON KURALLARI

### RED LINES - Ã‡Ä°ÄNENEMEZ KURALLAR

**Absolute blockers (iÅŸlemi durdur):**
- Dosya boyutu > 1000 satÄ±r
- Syntax errors
- Critical security vulnerabilities
- Circular dependencies
- Build failures

**Warning triggers (uyar ama devam et):**
- Dosya boyutu 700-999 satÄ±r arasÄ±
- High complexity functions
- Missing documentation
- Performance concerns
- Code smells

### VALÄ°DASYON RAPORU FORMAT

```javascript
const qualityReport = {
    overallScore: 87, // 0-100
    status: 'PASSED_WITH_WARNINGS',
    
    breakdown: {
        fileSize: { score: 95, status: 'EXCELLENT', issues: [] },
        cleanliness: { score: 90, status: 'GOOD', issues: ['1 unused import'] },
        maintainability: { score: 85, status: 'GOOD', issues: [] },
        performance: { score: 80, status: 'ACCEPTABLE', issues: ['Large bundle size'] },
        documentation: { score: 75, status: 'NEEDS_IMPROVEMENT', issues: ['Missing JSDoc'] }
    },
    
    recommendations: [
        'Kalan unused import\'Ä± temizle',
        'JSDoc documentation ekle',
        'Bundle size optimization dikkate al'
    ],
    
    blockers: [],
    passedGates: ['PRE_IMPLEMENTATION', 'DURING_IMPLEMENTATION', 'POST_IMPLEMENTATION']
};
```

## FAILURE HANDLING - HATA YÃ–NETÄ°MÄ°

### QUALITY GATE FAILURES

**Immediate blockers iÃ§in iÅŸlem:**
```
ğŸš« KALÄ°TE GATE BAÅARISIZ
ğŸ¯ Blocker: [spesifik sorun]
ğŸ“Š Quality Score: [X]/100 (minimum 70 gerekli)
âš ï¸ Kritik sorunlar:
   â€¢ [Liste of blocking issues]

ğŸ”§ GEREKLÄ° AKSÄ°YONLAR:
   1. [Spesifik dÃ¼zeltme adÄ±mlarÄ±]
   2. [Validation tekrarÄ±]
   3. [Approval sÃ¼reci]

âŒ Ä°mplementasyon bu sorunlar Ã§Ã¶zÃ¼lene kadar bloke edildi.
```

**Warning durumu iÃ§in bilgilendirme:**
```
âš ï¸ KALÄ°TE UYARILARI TESPÄ°T EDÄ°LDÄ°
ğŸ“Š Quality Score: [X]/100 (kabul edilebilir seviyede)
ğŸ’¡ Ä°yileÅŸtirme Ã¶nerileri:
   â€¢ [Improvement suggestions]

âœ… Ä°mplementasyon onaylandÄ± ancak iyileÅŸtirmeler Ã¶nerilir.
```

### PROGRESSIVE IMPROVEMENT

**Quality debt tracking:**
```javascript
function trackQualityDebt(currentMetrics, historicalData) {
    const trends = {
        improving: calculateImprovementTrend(historicalData),
        degrading: identifyQualityRegression(currentMetrics),
        stable: assessStabilityMetrics(historicalData)
    };
    
    return generateTrendReport(trends);
}
```

## Ã–ZEL DURUM YÃ–NETÄ°MÄ°

### LEGACY CODE HANDLING
Mevcut dÃ¼ÅŸÃ¼k kaliteli kodlar iÃ§in Ã¶zel yaklaÅŸÄ±m:

**Legacy tolerance rules:**
- Mevcut kÃ¶tÃ¼ kodu kÃ¶tÃ¼leÅŸtirme (don't make it worse)
- Yeni kod high quality olmalÄ± (new code must be excellent)  
- Progressive improvement (adÄ±m adÄ±m iyileÅŸtir)
- Refactoring opportunities (iyileÅŸtirme fÄ±rsatlarÄ±)

### EMERGENCY OVERRIDES
Acil durum kalite geÃ§iÅŸ kurallarÄ±:

```javascript
const emergencyQualityRules = {
    maxQualityScoreReduction: 15, // En fazla 15 puan dÃ¼ÅŸÃ¼ÅŸ
    mandatoryPostEmergencyCleanup: true,
    emergencyDocumentationRequired: true,
    automaticRefactoringScheduled: true
};
```

## INTEGRATION HOOKS - SÄ°STEM ENTEGRASYONU

### CONTINUOUS MONITORING
SÃ¼rekli kalite takibi iÃ§in hook'lar:

**File size monitoring:**
```javascript
// Her dosya deÄŸiÅŸikliÄŸinde otomatik boyut kontrolÃ¼
onFileModification(file => {
    const newSize = getFileSize(file);
    if (newSize > 700) {
        triggerSizeAlert(file, newSize);
    }
});
```

**Code quality monitoring:**
```javascript
// Her code commit'te kalite analizi
onCodeCommit(changes => {
    const qualityDelta = calculateQualityChange(changes);
    if (qualityDelta < 0) {
        reportQualityRegression(changes, qualityDelta);
    }
});
```

### REPORTING INTEGRATION

**Dashboard metrics:**
- Daily quality scores
- Quality trend analysis  
- File size distribution
- Technical debt accumulation
- Refactoring effectiveness

## QUALITY GATE CONFIGURATION

### CONFIGURABILITY
FarklÄ± proje tipleri iÃ§in ayarlanabilir thresholds:

```javascript
const qualityThresholds = {
    newProject: {
        minQualityScore: 90,
        maxFileSize: 500,
        zeroToleranceRules: ['unused_imports', 'dead_code']
    },
    
    existingProject: {
        minQualityScore: 75,
        maxFileSize: 700,
        progressiveImprovement: true
    },
    
    legacyProject: {
        minQualityScore: 60,
        maxFileSize: 1000,
        gradualMigration: true
    }
};
```

### TEAM COORDINATION
TakÄ±m Ã§alÄ±ÅŸmasÄ± iÃ§in quality gate coordination:

**Multi-developer scenarios:**
- Merge conflict quality assessment
- Code review quality gate integration  
- Team quality metric aggregation
- Cross-developer quality consistency

## AUTOMATED IMPROVEMENT SUGGESTIONS

### SMART RECOMMENDATIONS
Kalite sorunlarÄ± iÃ§in otomatik Ã§Ã¶zÃ¼m Ã¶nerileri:

```javascript
function generateImprovementSuggestions(qualityIssues) {
    const suggestions = qualityIssues.map(issue => ({
        issue: issue.type,
        severity: issue.severity,
        autoFixable: issue.canAutoFix,
        suggestion: generateSpecificSuggestion(issue),
        estimatedEffort: estimateFixEffort(issue)
    }));
    
    return prioritizeSuggestions(suggestions);
}
```

**Suggestion categories:**
- Otomatik dÃ¼zeltilebilir (unused imports, formatting)
- Guided refactoring (component splitting, extraction)
- Architecture improvements (design pattern applications)
- Performance optimizations (bundle size, rendering)
- Documentation enhancements (JSDoc, README updates)

## QUALITY GATE REPORTING

### SUMMARY REPORTING
Her implementasyon iÃ§in Ã¶zet rapor:

```
âœ… KALÄ°TE GATE RAPORU
ğŸ“Š Genel Skor: [X]/100 (BAÅARILI/UYARILI/BAÅARISIZ)

ğŸ¯ KALÄ°TE BREAKDOWN:
   ğŸ“ Dosya Boyutu: [X]/100 - [STATUS]
   ğŸ§¹ Kod TemizliÄŸi: [X]/100 - [STATUS]  
   ğŸ”§ SÃ¼rdÃ¼rÃ¼lebilirlik: [X]/100 - [STATUS]
   âš¡ Performans: [X]/100 - [STATUS]
   ğŸ“š DokÃ¼mantasyon: [X]/100 - [STATUS]

ğŸ” TESPÄ°T EDÄ°LEN SORUNLAR: [X adet]
   â€¢ [Issue list with priorities]

ğŸ’¡ Ä°YÄ°LEÅTÄ°RME Ã–NERÄ°LERÄ°: [X adet]
   â€¢ [Prioritized improvement suggestions]

âœ… SONUÃ‡: [Implementation approved/requires fixes/blocked]
```

---

*Kalite bir luxury deÄŸil necessity'dir. Bu quality gate sistemi her kod deÄŸiÅŸikliÄŸinin sistemi daha iyi hale getirmesini garanti eder.*