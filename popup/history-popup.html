<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Translation History - G-Translate</title>
    <link rel="stylesheet" href="history-popup.css" />
  </head>
  <body>
    <div class="history-container">
      <!-- Header -->
      <div class="history-header">
        <div class="header-left">
          <h2 class="history-title">
            <span class="title-icon">📚</span>
            Translation History
          </h2>
          <div class="history-stats">
            <span id="history-count">0 translations</span>
          </div>
        </div>
        <div class="header-actions">
          <button
            id="clear-history-btn"
            class="action-btn clear-btn"
            title="Clear history"
          >
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polyline points="3,6 5,6 21,6"></polyline>
              <path
                d="m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"
              ></path>
            </svg>
            Clear
          </button>
          <button
            id="close-history-btn"
            class="action-btn close-btn"
            title="Close"
          >
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
      </div>

      <!-- Search and Filter -->
      <div class="history-controls">
        <div class="search-container">
          <svg
            class="search-icon"
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21,21 -4.35,-4.35"></path>
          </svg>
          <input
            type="text"
            id="history-search"
            placeholder="Search history..."
            class="search-input"
          />
        </div>
        <div class="filter-container">
          <select id="language-filter" class="filter-select">
            <option value="">All languages</option>
            <option value="tr">🇹🇷 Türkçe</option>
            <option value="en">🇺🇸 English</option>
            <option value="es">🇪🇸 Español</option>
            <option value="fr">🇫🇷 Français</option>
            <option value="de">🇩🇪 Deutsch</option>
            <option value="it">🇮🇹 Italiano</option>
            <option value="pt">🇵🇹 Português</option>
            <option value="ru">🇷🇺 Русский</option>
            <option value="ja">🇯🇵 日本語</option>
            <option value="ko">🇰🇷 한국어</option>
            <option value="zh">🇨🇳 中文</option>
            <option value="ar">🇸🇦 العربية</option>
          </select>
        </div>
      </div>

      <!-- History List -->
      <div class="history-content">
        <div id="history-list" class="history-list">
          <!-- History items will be populated here -->
        </div>

        <!-- Empty State -->
        <div id="empty-state" class="empty-state" style="display: none">
          <div class="empty-icon">📝</div>
          <h3 class="empty-title">No translation history yet</h3>
          <p class="empty-description">Make your first translation and it will appear here!</p>
        </div>

        <!-- Loading State -->
        <div id="loading-state" class="loading-state">
          <div class="loading-spinner"></div>
          <span>Loading history...</span>
        </div>
      </div>

      <!-- Footer -->
      <div class="history-footer">
        <div class="footer-info">
          <span id="storage-info">Using local storage</span>
        </div>
        <div class="footer-actions">
          <button id="export-history-btn" class="action-btn export-btn">
            <svg
              width="14"
              height="14"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M21,15v4a2,2 0 0,1 -2,2H5a2,2 0 0,1 -2,-2V15"></path>
              <polyline points="7,10 12,15 17,10"></polyline>
              <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
            Export
          </button>
        </div>
      </div>
    </div>

    <!-- History Item Template -->
    <template id="history-item-template">
      <div class="history-item" data-id="">
        <div class="item-header">
          <div class="language-info">
            <span class="source-lang"></span>
            <svg
              class="arrow-icon"
              width="12"
              height="12"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="5" y1="12" x2="19" y2="12"></line>
              <polyline points="12,5 19,12 12,19"></polyline>
            </svg>
            <span class="target-lang"></span>
          </div>
          <div class="item-actions">
            <button
              class="item-action-btn favorite-btn"
              title="Add to/remove from favorites"
            >
              <svg
                width="14"
                height="14"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  d="M20.84,4.61a5.5,5.5 0 0,0 -7.78,0L12,5.67l-1.06,-1.06a5.5,5.5 0 0,0 -7.78,7.78l1.06,1.06L12,21.23l7.78,-7.78l1.06,-1.06a5.5,5.5 0 0,0 0,-7.78z"
                ></path>
              </svg>
            </button>
            <button class="item-action-btn copy-btn" title="Copy">
              <svg
                width="14"
                height="14"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                <path
                  d="M5,15H4a2,2 0 0,1 -2,-2V4a2,2 0 0,1 2,-2h9a2,2 0 0,1 2,2v1"
                ></path>
              </svg>
            </button>
            <button class="item-action-btn delete-btn" title="Delete">
              <svg
                width="14"
                height="14"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <polyline points="3,6 5,6 21,6"></polyline>
                <path
                  d="m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"
                ></path>
              </svg>
            </button>
          </div>
        </div>
        <div class="item-content">
          <div class="original-text">
            <div class="text-label">Original Text:</div>
            <div class="text-content"></div>
          </div>
          <div class="translated-text">
            <div class="text-label">Translation:</div>
            <div class="text-content"></div>
          </div>
        </div>
        <div class="item-footer">
          <div class="item-meta">
            <span class="timestamp"></span>
            <span class="confidence" style="display: none"></span>
          </div>
          <div class="item-tags">
            <span class="tag favorite-tag" style="display: none"
              >⭐ Favorite</span>
            >
          </div>
        </div>
      </div>
    </template>

    <script src="../dist/constants.js"></script>
    <script src="../dist/language-codes.js"></script>
    <script src="../dist/compatibility-layer.js"></script>
    <script src="../dist/history-popup.js"></script>
  </body>
</html>
